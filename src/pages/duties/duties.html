<!--
  Generated template for the Duties page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
            <ion-badge *ngIf="notifications != 0" color="danger">{{notifications}}</ion-badge>
        </button>
        <ion-title>Checklist</ion-title>

        <ion-buttons end>
            <button end ion-button clear (click)="logout()">
                Sign out
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content padding>

    <ion-item-group *ngFor="let category of categories | entries">
        <ion-item-divider color="light">{{category.value.name}}</ion-item-divider>
        <ion-item class="text" *ngFor="let duty of category.value.duties | entries">
            <!--<h3 (click)="showHistory(category, duty.key, duty.value)"></h3>-->
            <div item-right>
                <p *ngFor="let user of fbUsers | async">{{duty.value | cleaningbilans:user}}</p>
            </div>
            <ion-label>{{duty.value.name}}</ion-label>
            <ion-checkbox [(ngModel)]="duty.value.checked"></ion-checkbox>
        </ion-item>
    </ion-item-group>
    <button ion-button (click)="save()" outline block color="primary">SAVE</button>
</ion-content>
